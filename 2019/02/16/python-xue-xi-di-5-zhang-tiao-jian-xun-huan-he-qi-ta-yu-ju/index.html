<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Python学习第5章-条件、循环和其他语句, Python, 考研, 日记, 入党, ...">
    <meta name="description" content="第五章-条件、循环和其他语句我们已经见过几种语句（print语句、import语句和赋值语句），先来看看这些语句的其他一些用法，再深入探讨条件语句和循环语句。然后，我们将介绍列表推导，它们虽然是表达式，但工作原理几乎与条件语句和循环语句相同">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Python学习第5章-条件、循环和其他语句 | 大圣的沙雕博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">大圣的沙雕博客</span>
                    </a>
                </div>
                

<a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">大圣的沙雕博客</div>
        <div class="logo-desc">
            
            作为笔记本和日记本记录大圣的学习过程和一些沙雕日常。
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/ChenaniahLv/Python-Learning" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link">
    <a href="https://github.com/ChenaniahLv" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:xinshenglv0917@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1774014148" class="tooltipped" data-tooltip="QQ联系我: 1774014148" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/ChenaniahLv/Python-Learning" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>
</header>





<div class="bg-cover post-cover" style="background-image: url('https://s2.ax1x.com/2019/02/13/k02dVs.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Python学习第5章-条件、循环和其他语句
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1,
    #articleContent h2,
    #articleContent h3,
    #articleContent h4,
    #articleContent h5,
    #articleContent h6 {
        padding-top: 76px;
        margin-top: -76px;
    }

    #articleContent h1 {
        line-height: 3.5rem;
    }

    #articleContent h2 {
        line-height: 3.2rem;
    }

    #articleContent h3 {
        line-height: 2.8rem;
    }

    #articleContent h4 {
        line-height: 2.5rem;
    }

    #articleContent h5 {
        line-height: 2.2rem;
    }

    #articleContent h6 {
        line-height: 1.9rem;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }
</style>
<div class="row">
    <div class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/" target="_blank">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                            <a href="/tags/教程/" target="_blank">
                                <span class="chip bg-color">教程</span>
                            </a>
                        
                            <a href="/tags/学习笔记/" target="_blank">
                                <span class="chip bg-color">学习笔记</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category" target="_blank">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-02-16
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        9.5k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        36 分
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="第五章-条件、循环和其他语句"><a href="#第五章-条件、循环和其他语句" class="headerlink" title="第五章-条件、循环和其他语句"></a>第五章-条件、循环和其他语句</h1><p>我们已经见过几种语句（print语句、import语句和赋值语句），先来看看这些语句的其他一些用法，再深入探讨条件语句和循环语句。然后，我们将介绍列表推导，它们虽然是表达式，但工作原理几乎与条件语句和循环语句相同，最后，我们将介绍pass、del和exec。</p>
<h2 id="5-1-再谈print和import"><a href="#5-1-再谈print和import" class="headerlink" title="5.1 再谈print和import"></a>5.1 再谈print和import</h2><h3 id="5-1-1-打印多个参数"><a href="#5-1-1-打印多个参数" class="headerlink" title="5.1.1 打印多个参数"></a>5.1.1 打印多个参数</h3><p>我们指导，print可用于打印一个表达式，这个表达式要么是字符串，要么将自动转换为字符串。但实际上，我们可以打印多个表达式，条件是用逗号分隔它们：</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Age:'</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span>
Age<span class="token punctuation">:</span> <span class="token number">42</span>
<span class="token comment" spellcheck="true">#如我们所见，在参数之间插入了一个空格字符。在我们要合并文本和变量值而又不想使用字符串格式设置功能时，这种行为很有帮助：</span>
<span class="token operator">>></span><span class="token operator">></span> name <span class="token operator">=</span> <span class="token string">'Gumby'</span>
<span class="token operator">>></span><span class="token operator">></span> salutation <span class="token operator">=</span> <span class="token string">'Mr.'</span>
<span class="token operator">>></span><span class="token operator">></span> greeting <span class="token operator">=</span> <span class="token string">'Hello,'</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>greeting<span class="token punctuation">,</span> salutation<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
Hello<span class="token punctuation">,</span> Mr<span class="token punctuation">.</span> Gumby
<span class="token comment" spellcheck="true">#如果字符串变量greeting不包含逗号，如何在结果中添加呢？</span>
<span class="token comment" spellcheck="true">##不能像下面这样做：因为这样将在逗号前添加一个空格。</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>greeting<span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> salutation<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
Hello<span class="token punctuation">,</span> <span class="token punctuation">,</span> Mr<span class="token punctuation">.</span> Gumby
<span class="token comment" spellcheck="true">#下面是一种可行的方案：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>greeting <span class="token operator">+</span> <span class="token string">','</span><span class="token punctuation">,</span> salutation<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">##它将逗号和变量greeting相加。</span>
Hello<span class="token punctuation">,</span><span class="token punctuation">,</span> Mr<span class="token punctuation">.</span> Gumby
<span class="token comment" spellcheck="true">#如果需要，可以自定义分隔符：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'wish'</span><span class="token punctuation">,</span> <span class="token string">'to'</span><span class="token punctuation">,</span> <span class="token string">'register'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'complaint'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">)</span>
I_wish_to_register_a_complaint
<span class="token comment" spellcheck="true">#你还可以自定义结束字符串，以替换默认的换行符。例如，如果将结束字符串指定为空字符串，以后就可继续打印到当前行。</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello,'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'world!'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">##上述代码打印Hello, world!</span>
</code></pre>
<h3 id="5-1-2-导入时重命名"><a href="#5-1-2-导入时重命名" class="headerlink" title="5.1.2 导入时重命名"></a>5.1.2 导入时重命名</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#从模块导入时，通常使用：</span>
<span class="token keyword">import</span> somemodule
<span class="token comment" spellcheck="true">##或使用：</span>
<span class="token keyword">from</span> somemodule <span class="token keyword">import</span> somefunction
<span class="token comment" spellcheck="true">##或：</span>
<span class="token keyword">from</span> somemodule <span class="token keyword">import</span> somefunction<span class="token punctuation">,</span> anotherfunction<span class="token punctuation">,</span> yetanatherfunction
<span class="token comment" spellcheck="true">##或：</span>
<span class="token keyword">from</span> somemodule <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token comment" spellcheck="true">#仅当你确定要导入模块中的一切，采用最后一种方式。但如果有两个模块，它们都包含函数open，该如何办呢？可以使用第一种方式导入这两种模块，并像下面这样调用函数：</span>
module1<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
module2<span class="token punctuation">.</span>open<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#但还有一种办法：在语句末尾添加as子句并指定别名，下面是一个导入整个模块并给它指定别名的例子：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> math <span class="token keyword">as</span> foobar
<span class="token operator">>></span><span class="token operator">></span> foobar<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token number">2.0</span>
<span class="token comment" spellcheck="true">#下面是一个导入特定函数并给它指定别名的例子：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> math <span class="token keyword">import</span> sqrt <span class="token keyword">as</span> foobar
<span class="token operator">>></span><span class="token operator">></span> foobar<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token number">2.0</span>
<span class="token comment" spellcheck="true">#对于前面的函数open，可像下面这样导入它们：</span>
<span class="token keyword">from</span> module1 <span class="token keyword">import</span> open <span class="token keyword">as</span> open1
<span class="token keyword">from</span> module2 <span class="token keyword">import</span> open <span class="token keyword">as</span> open2
<span class="token comment" spellcheck="true">##注：有些模块（如os.path）组成了层次结构（一个模块位于另一个模块（第十章）中）。</span>
</code></pre>
<h2 id="5-2-赋值魔法"><a href="#5-2-赋值魔法" class="headerlink" title="5.2 赋值魔法"></a>5.2 赋值魔法</h2><h3 id="5-2-1-序列解包"><a href="#5-2-1-序列解包" class="headerlink" title="5.2.1 序列解包"></a>5.2.1 序列解包</h3><p>赋值语句我们见过很多，有的给变量赋值，还有的给数据结构的一部分（如列表中的元素和切片，或者字典项）赋值，但还有其他类型的赋值语句。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#可同时（并行）给多个变量赋值：</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span>
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
<span class="token comment" spellcheck="true">#使用这种方式还可以交换多个变量的值：</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y <span class="token operator">=</span> y<span class="token punctuation">,</span> x
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span>
<span class="token number">2</span> <span class="token number">1</span> <span class="token number">3</span>
</code></pre>
<p>实际上，这里执行的操作称为序列解包（或可迭代对象解包）：将一个序列（或任何可迭代对象）解包，并将得到的值储存到一系列变量中。例如：</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> values <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> values
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> values
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token number">1</span>
</code></pre>
<p>在这里使用返回元组（或其他序列或可迭代对象）的函数或方法时很有用。加入要从字典中随便获取（或删除）一个键-值对时，可使用方法popitem，它随便获取一个键-值对并以元组的方式返回。接下来，可字节将返回的元组解包到两个变量中：</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> scoundrel <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Robin'</span><span class="token punctuation">,</span> <span class="token string">'girlfriend'</span><span class="token punctuation">:</span> <span class="token string">'Marion'</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> key<span class="token punctuation">,</span> value <span class="token operator">=</span> scoundrel<span class="token punctuation">.</span>popitem<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> key
<span class="token string">'girlfriend'</span>
<span class="token operator">>></span><span class="token operator">></span> value
<span class="token string">'Marion'</span>
<span class="token comment" spellcheck="true">#这让函数能够返回被打包成元组的多个值，然后通过一条赋值语句轻松地访问这些值。</span>
<span class="token comment" spellcheck="true">#注：要解包的序列包含的元素个数必须与你在等号左边列出的目标个数相同，否则Python将引发异常：</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#14>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
ValueError<span class="token punctuation">:</span> <span class="token operator">not</span> enough values to unpack <span class="token punctuation">(</span>expected <span class="token number">3</span><span class="token punctuation">,</span> got <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#15>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span>
ValueError<span class="token punctuation">:</span> too many values to unpack <span class="token punctuation">(</span>expected <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#可使用星号运算符（*）来收集多余的值，这样无需确保值和变量的个数相同：</span>
<span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">*</span>rest <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span>
<span class="token operator">>></span><span class="token operator">></span> rest
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#还可以将带星号的变量放在其他位置：</span>
<span class="token operator">>></span><span class="token operator">></span> name <span class="token operator">=</span> <span class="token string">"Albus Percival Wulfric Brian Dumbledore"</span>
<span class="token operator">>></span><span class="token operator">></span> first<span class="token punctuation">,</span> <span class="token operator">*</span>middle<span class="token punctuation">,</span> last <span class="token operator">=</span> name<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> middle
<span class="token punctuation">[</span><span class="token string">'Percival'</span><span class="token punctuation">,</span> <span class="token string">'Wulfric'</span><span class="token punctuation">,</span> <span class="token string">'Brian'</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#赋值语句的右边可以是任何类型的序列，但带星号的变量最终包含的总是一个列表。在变量和值和个数相同时亦如此：</span>
<span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token string">'abc'</span>
<span class="token operator">>></span><span class="token operator">></span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#这种收集方式也可用于函数参数列表中。</span>
</code></pre>
<h3 id="5-2-2-链式赋值"><a href="#5-2-2-链式赋值" class="headerlink" title="5.2.2 链式赋值"></a>5.2.2 链式赋值</h3><p>链式赋值是一种快捷方式，用于将多个变量关联到同一个值。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#这有点像前一节介绍的并行赋值，但只涉及一个值：</span>
x <span class="token operator">=</span> y <span class="token operator">=</span> somefunction<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#上述代码与下面的代码等价：</span>
y <span class="token operator">=</span> somefunction<span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">=</span> y
<span class="token comment" spellcheck="true">#注：这两条语句可能与下面的语句不等价：</span>
x <span class="token operator">=</span> somefunction<span class="token punctuation">(</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> somefunction<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>有关这方面的详细信息，请参阅5.4.6节介绍相同运算符（is）的部分。</p>
<h3 id="5-2-3-增强赋值"><a href="#5-2-3-增强赋值" class="headerlink" title="5.2.3 增强赋值"></a>5.2.3 增强赋值</h3><p>可以不编写代码x = x + 1，而将右边表达式中的运算符（这里是+）移到赋值运算符（=）的前面，从而写成x += 1。这称为增强赋值，适用于所有标准运算符，如*、/、%等。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> <span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">*=</span> <span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token number">6</span>
<span class="token comment" spellcheck="true">#增强赋值也可以用于其他数据类型（只要使用的双目运算符可用于这些数据类型）：</span>
<span class="token operator">>></span><span class="token operator">></span> found <span class="token operator">=</span> <span class="token string">'foo'</span>
<span class="token operator">>></span><span class="token operator">></span> found <span class="token operator">+=</span> <span class="token string">'bar'</span>
<span class="token operator">>></span><span class="token operator">></span> found <span class="token operator">*=</span> <span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> found
<span class="token string">'foobarfoobar'</span>
</code></pre>
<p>通过使用增强赋值，可让代码更紧凑、更简洁，同时在很多情况下的可读性更强。</p>
<h2 id="5-3-代码块：缩进的乐趣"><a href="#5-3-代码块：缩进的乐趣" class="headerlink" title="5.3 代码块：缩进的乐趣"></a>5.3 代码块：缩进的乐趣</h2><p>代码块是一组语句，可在满足条件时执行（if语句），可执行多次（循环），等等。代码块是通过缩进代码（即在前面加空格）来创建的。</p>
<p><strong>注</strong>：也可以使用制表符来缩进代码块。Python将制表符解释为移到下一个制表位（相邻制表位相距8个空格），但标准（也是更佳的）做法是只使用空格（而不是使用制表符来缩进），且每级缩进4个空格。</p>
<p>在同一个代码块中，各行代码的缩进量必须相同。下面的伪代码（并非真正的Python代码）演示了如何缩进：</p>
<pre><code>    this is a line
    this is another line:
        this is another block
        continuing the same block
        the last line of the block
    phew, there we escaped the inner block
</code></pre><p>在很多语言中，都使用一个特殊的单词或字符（如begin或{）来标识代码块的起始位置，并使用另一个特殊的单词或字符（如end或}）来标识结束位置。在Python中，使用冒号（:）指出接下来是一个代码块，并将该代码块中的每行代码都缩进相同的程度。发现缩进量与之前相同时，我们就知道当前代码块到此结束了。（很多用于编程的编辑器（如vscode）和IDE（如PyCharm）指导如何缩进代码块，可帮助我们轻松地正确缩进。）</p>
<p>下面来看代码块的用途。</p>
<h2 id="5-4-条件和条件语句"><a href="#5-4-条件和条件语句" class="headerlink" title="5.4 条件和条件语句"></a>5.4 条件和条件语句</h2><p>到目前为止，在我们编写的程序中，语句都是逐条执行的。现在更进一步，让程序选择是否执行特定的程序块。</p>
<h3 id="5-4-1-这正是布尔值的用武之地"><a href="#5-4-1-这正是布尔值的用武之地" class="headerlink" title="5.4.1 这正是布尔值的用武之地"></a>5.4.1 这正是布尔值的用武之地</h3><p>用作布尔表达式（如用作if语句中的条件）时，下面的值都将被解释器视为假：</p>
<pre class=" language-python"><code class="language-python"><span class="token boolean">False</span>  None  <span class="token number">0</span>  <span class="token string">""</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre>
<p>换而言之，标准值False和None、各种类型（包括浮点数、复数等）的数值为0、空序列（如空字符串、空元组和空列表）以及空映射（如空字典）都被视为假，而其他各种值都被视为真，包括特殊值True。</p>
<p>这意味着任何Python值都可以解释为真值，标准真值为True和False。实际上，Ture和False不过是0和1的别名，虽然看起来不同，但作用是相同的。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">False</span>
<span class="token boolean">False</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span> <span class="token operator">==</span> <span class="token number">1</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">False</span> <span class="token operator">==</span> <span class="token number">0</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token boolean">True</span> <span class="token operator">+</span> <span class="token boolean">False</span> <span class="token operator">+</span> <span class="token number">42</span>
<span class="token number">43</span>
</code></pre>
<p>因此，如果我们看到一个返回1或0的表达式，就知道这实际上意味着True或False。</p>
<p>布尔值True和False属于类型bool，而bool和list、str和tuple一样，可用来转换其他值。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bool<span class="token punctuation">(</span><span class="token string">'I think, therefore I am'</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> bool<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> bool<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token operator">>></span><span class="token operator">></span> bool<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token comment" spellcheck="true">#鉴于任何值都可以用作布尔值，因此我们几乎不需要显式地进行转换（Python会自动转换）</span>
</code></pre>
<p>注：虽然[]和””都为假（即bool([]) == bool(“”) == False），但它们并不相等（即[] != “”）。对其他各种为假的对象来说，情况亦如此（一个更显然的例子是() != False）。</p>
<h3 id="5-4-2-有条件地执行和if语句"><a href="#5-4-2-有条件地执行和if语句" class="headerlink" title="5.4.2 有条件地执行和if语句"></a>5.4.2 有条件地执行和if语句</h3><p>真值可以合并，至于如何合并稍后再将，先看看真值可以用来做什么：</p>
<pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'What is your name? '</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> name<span class="token punctuation">.</span>endswich<span class="token punctuation">(</span><span class="token string">'Gumby'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, Mr. Gumby'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#str.endswith(suffix[, start[, end]])用于判断字符串是否以指定后缀结尾，如果以指定后缀结尾返回True，否则返回False。可选参数"start"与"end"为检索字符串的开始与结束位置。</span>
</code></pre>
<p>这就是if语句，让我们能够有条件地执行代码。这意味着如果条件（if和冒号之间的表达式）为前面定义的真，就执行后续代码块（这里是一条print语句）；如果条件为假，就不执行。</p>
<h3 id="5-4-3-else子句"><a href="#5-4-3-else子句" class="headerlink" title="5.4.3 else子句"></a>5.4.3 else子句</h3><p>在前一节的示例中，如果你输入以Gumby结尾的名字，方法name.endswith将返回True，导致后续代码块执行——打印问候语。如果你愿意，可以使用else子句增加一种选择（之所以叫子句是因为else不是独立的语句，而是if语句的一部分）。</p>
<pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'What is your name?'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'Gumby'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, Mr. Gumby'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, stranger'</span><span class="token punctuation">)</span>
</code></pre>
<p>还有一个与if语句很像的“亲戚”：条件表达式，下面的表达式使用if和else确定其值：</p>
<pre class=" language-python"><code class="language-python">status <span class="token operator">=</span> <span class="token string">"friend"</span> <span class="token keyword">if</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">"Gumby"</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">"stranger"</span>
<span class="token comment" spellcheck="true">#如果条件（紧跟在if后面）为真，表达式的结果为提供的第一个值（这里为"friend"），否则为第二个值"stranger"。</span>
</code></pre>
<h3 id="5-4-4-elif子句"><a href="#5-4-4-elif子句" class="headerlink" title="5.4.4 elif子句"></a>5.4.4 elif子句</h3><p>要检查多个条件，可使用elif。elif是else if的缩写，由一个if子句和一个else子句组合而成，也就是包含条件的else子句。</p>
<pre class=" language-python"><code class="language-python">num <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'Enter a number: '</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> num <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The number is positive'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> num <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The number is negative'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The number is zero'</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="5-4-5-代码嵌套"><a href="#5-4-5-代码嵌套" class="headerlink" title="5.4.5 代码嵌套"></a>5.4.5 代码嵌套</h3><p>我们可以将if语句放在其他if语句块中，如下所示：</p>
<pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'What is your name? '</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'Gumby'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'Mr.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, Mr. Gumby'</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'Mrs.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, Mrs. Gumby'</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, stranger'</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="5-4-6-更复杂的条件"><a href="#5-4-6-更复杂的条件" class="headerlink" title="5.4.6 更复杂的条件"></a>5.4.6 更复杂的条件</h3><p>这就是我们需要指导的有关if语句的全部知识。下面来说说条件本身，因为它们是有条件执行中最有趣的部分。</p>
<h4 id="1-比较运算符"><a href="#1-比较运算符" class="headerlink" title="1. 比较运算符"></a>1. 比较运算符</h4><p>在条件表达式中，最基本的运算符可能是比较运算符，它们用于执行比较。</p>
<table>
<thead>
<tr>
<th style="text-align:center">表达式</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x == y</td>
<td style="text-align:left">x等于y</td>
</tr>
<tr>
<td style="text-align:center">x &lt; y</td>
<td style="text-align:left">x小于y</td>
</tr>
<tr>
<td style="text-align:center">x &gt; y</td>
<td style="text-align:left">x大于y</td>
</tr>
<tr>
<td style="text-align:center">x &gt;= y</td>
<td style="text-align:left">x大于或等于y</td>
</tr>
<tr>
<td style="text-align:center">x &lt;= y</td>
<td style="text-align:left">x小于或等于y</td>
</tr>
<tr>
<td style="text-align:center">x != y</td>
<td style="text-align:left">x不等于y</td>
</tr>
<tr>
<td style="text-align:center">x is y</td>
<td style="text-align:left">x和y是同一个对象</td>
</tr>
<tr>
<td style="text-align:center">x is not y</td>
<td style="text-align:left">x和y是不同的对象</td>
</tr>
<tr>
<td style="text-align:center">x in y</td>
<td style="text-align:left">x是容器（如序列）y的成员</td>
</tr>
<tr>
<td style="text-align:center">x not in y</td>
<td style="text-align:left">x不是容器（如序列）y的成员</td>
</tr>
</tbody>
</table>
<p>与赋值一样，Python也支持链式比较：可同时使用多个比较运算符，如0 &lt; age &lt; 100。</p>
<p>下面是一些需要特别注意的比较运算符：</p>
<h5 id="相等运算符"><a href="#相等运算符" class="headerlink" title="相等运算符"></a>相等运算符</h5><p>要确定两个对象是否相等，可使用比较运算符，用两个等号（==）表示。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token string">"foo"</span> <span class="token operator">==</span> <span class="token string">"foo"</span>
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token string">"foo"</span> <span class="token operator">==</span> <span class="token string">"bar"</span>
<span class="token boolean">False</span>
</code></pre>
<h5 id="is：相同运算符"><a href="#is：相同运算符" class="headerlink" title="is：相同运算符"></a>is：相同运算符</h5><p>这个运算符很有趣，其作用看似与==一样，但实际上并非如此。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> z <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">==</span> y
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">==</span> z
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token keyword">is</span> y
<span class="token boolean">True</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token keyword">is</span> z
<span class="token boolean">False</span>
</code></pre>
<p>is检查两个对象是否相同（而不是相等）。变量x和y指向同一个列表，而z指向另一个列表（其中包含的值以及这些值的排列顺序都与前一个列表相同）。这两个列表虽然相等，但并非是同一个对象。</p>
<p>总之，==用来检查两个对象是否相等，而is用来检查两个对象是否相同（是同一个对象）。</p>
<h5 id="in：成员资格运算符"><a href="#in：成员资格运算符" class="headerlink" title="in：成员资格运算符"></a>in：成员资格运算符</h5><p>运算符in在2.2.5节介绍过，与其他比较运算符一样，它也可用于条件表达式中。</p>
<pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'What is your name?'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token string">'s'</span> <span class="token keyword">in</span> name<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Your name contains the letter "s".'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Your name does not contains the letter "s".'</span><span class="token punctuation">)</span>
</code></pre>
<h5 id="字符串和序列的比较"><a href="#字符串和序列的比较" class="headerlink" title="字符串和序列的比较"></a>字符串和序列的比较</h5><p>字符串是根据字符的字母排列顺序进行比较的。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token string">"alpha"</span> <span class="token operator">&lt;</span> <span class="token string">"beta"</span>
<span class="token boolean">True</span> 
<span class="token comment" spellcheck="true">#虽然基于的字母排列顺序，但字母都是Unicode字符，它们是按照码点排列的。</span>
<span class="token comment" spellcheck="true">#实际上，字符是根据顺序值排列的。要获悉字母的顺序值，可使用函数ord。这个函数的作用与函数chr相反：</span>
<span class="token operator">>></span><span class="token operator">></span> ord<span class="token punctuation">(</span><span class="token string">"H"</span><span class="token punctuation">)</span>
<span class="token number">72</span>
<span class="token operator">>></span><span class="token operator">></span> chr<span class="token punctuation">(</span><span class="token number">128584</span><span class="token punctuation">)</span>
<span class="token string">'\U0001f648'</span>
<span class="token operator">>></span><span class="token operator">></span> chr<span class="token punctuation">(</span><span class="token number">72</span><span class="token punctuation">)</span>
<span class="token string">'H'</span>
<span class="token comment" spellcheck="true">#涉及大写字母时，可以使用字符串方法lower忽略大小写来比较大小写字母的顺序。</span>
<span class="token comment" spellcheck="true">#其他序列的比较方式与此相同，但这些顺序包含的元素可能不是字符，而是其他类型的值：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token boolean">True</span>
<span class="token comment" spellcheck="true">#如果序列的元素为其他序列，将根据同样的规则对这些元素进行比较：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token boolean">True</span>
</code></pre>
<h4 id="2-布尔运算符"><a href="#2-布尔运算符" class="headerlink" title="2. 布尔运算符"></a>2. 布尔运算符</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#假设我们要编写一个程序，让它读取一个数，并检查这个数是否位于1～10（含）。为此，可像下面这样做：</span>
number <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'Enter a number between 1 and 10: '</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> number <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> number <span class="token operator">>=</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Great!'</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Wrong!'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Wrong!'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#这可行，但是我们输入了print('Wrong!')两次，稍显笨拙，可以如下修改：</span>
number <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">'Enter a number between 1 and 10: '</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> number <span class="token operator">&lt;=</span> <span class="token number">10</span> <span class="token operator">and</span> number <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Great!'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
     <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Wrong!'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">##通过使用链式比较1 &lt;= number &lt;= 10可进一步简化这个示例。</span>
</code></pre>
<p>运算符and是一个布尔运算符。它接受两个真值，并在这两个真值都为真时返回真，否则返回假。还有另外两个布尔运算符：or和not。通过使用这三个运算符，能以任何方式组合真值。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>cash <span class="token operator">></span> price<span class="token punctuation">)</span> <span class="token operator">or</span> customer_has_good_credit<span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token operator">not</span> out_of_stock<span class="token punctuation">:</span>
    give_goods<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>短路逻辑和条件表达式</strong>：</p>
<p>布尔运算符有个有趣的特征：只做必要的计算。例如，仅当x和y都为真时，表达式x and y才为真。因此如果x为假，这个表达式将立即返回假，而不管y。实际上，如果x为假，这个表达式将返回x，否则返回y。这种行为称为<em>短路逻辑</em>（或者<em>延迟求值</em>）：布尔运算符常被称为逻辑运算符，如我们所见，在有些情况下将绕过第二个值。对于运算符or，情况亦是如此。需要注意的是，位于布尔运算符后面的代码（如函数调用）可能根本不会执行。</p>
<h3 id="5-4-7-断言"><a href="#5-4-7-断言" class="headerlink" title="5.4.7 断言"></a>5.4.7 断言</h3><p>if语句有一个很有用的“亲戚”，其工作原理类似于下面的伪代码：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token operator">not</span> condition<span class="token punctuation">:</span>
    crash program
</code></pre>
<p>编写这样的代码是为了让程序在错误条件出现时立即崩溃胜过以后再崩溃。基本上，我们可以要求某些条件得到满足（如核实函数参数满足要求或为初始测试和调试提供帮助），为此可在语句中使用关键字assert。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> age <span class="token operator">=</span> <span class="token number">10</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;</span> age <span class="token operator">&lt;</span> <span class="token number">100</span>
<span class="token operator">>></span><span class="token operator">></span> age <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;</span> age <span class="token operator">&lt;</span> <span class="token number">100</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#63>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;</span> age <span class="token operator">&lt;</span> <span class="token number">100</span>
AssertionError
<span class="token comment" spellcheck="true">#如果知道必须满足特定条件，程序才能正确运行，可在程序中添加assert语句充当检查点。</span>
<span class="token comment" spellcheck="true">#还可在条件后面添加一个字符串，对断言做出说明。</span>
<span class="token operator">>></span><span class="token operator">></span> age <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;</span> age <span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'The age must be realistic'</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#65>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    <span class="token keyword">assert</span> <span class="token number">0</span> <span class="token operator">&lt;</span> age <span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'The age must be realistic'</span>
AssertionError<span class="token punctuation">:</span> The age must be realistic
</code></pre>
<h2 id="5-5-循环"><a href="#5-5-循环" class="headerlink" title="5.5 循环"></a>5.5 循环</h2><p>如果我们希望程序不断地执行下去，直到人为停止，需要编写类似于下面的代码（伪代码）：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">while</span> we are't stopped<span class="token punctuation">:</span>
    send mail
    wait one month
</code></pre>
<h3 id="5-5-1-while循环"><a href="#5-5-1-while循环" class="headerlink" title="5.5.1 while循环"></a>5.5.1 while循环</h3><pre class=" language-python"><code class="language-python">x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> x <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    x <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre>
<p>还可以使用循环来确保用户输入名字，如下所示：</p>
<pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">''</span>
<span class="token keyword">while</span> <span class="token operator">not</span> name<span class="token punctuation">:</span>
    name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'Please enter your name: '</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello, {}!'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#提示：如果我们只是输入一个空格字符，程序将接受这个名字，因为包含一个空格字符的字符串不是空的，因此不会将name视为假。这无疑是这个小程序的一个瑕疵，但很容易修复：只需将while not name改为while not name or name.isspace()或while not name.strip()即可。</span>
</code></pre>
<h3 id="5-5-2-for循环"><a href="#5-5-2-for循环" class="headerlink" title="5.5.2 for循环"></a>5.5.2 for循环</h3><p>while语句非常灵活，可用于在条件为真时反复执行代码块。这在通常情况下很好，但有时候我们可能想根据需要进行定制。一种这样的需求是为序列（或其他可迭代对象）中每个元素执行代码块。</p>
<p>注：基本上，可迭代对象（第九章）是使用for循环进行遍历的对象。</p>
<p>为此，可使用for语句：</p>
<pre class=" language-python"><code class="language-python">words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'an'</span><span class="token punctuation">,</span> <span class="token string">'ex'</span><span class="token punctuation">,</span> <span class="token string">'parrot'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> word <span class="token keyword">in</span> words<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#或：</span>
numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> number <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
</code></pre>
<p>鉴于迭代（也就是遍历）特定范围内的数是一种常见的任务，Python提供了一个创建范围的内置函数。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#范围类似于切片。它们包含起始位置（这里为0），但不包含结束位置（这里为10）。在很多情况下，我们都希望起始位置为0。实际上，如果只提供一个位置，将把这个位置视为结束位置，并假定起始位置为0。</span>
<span class="token operator">>></span><span class="token operator">></span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#下面的程序打印数1～100：</span>
<span class="token keyword">for</span> number <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#注：相比前面使用的while循环，这些代码要紧凑得多。</span>
</code></pre>
<p>提示：只要能够使用for循环，就不要使用while循环。</p>
<h3 id="5-5-3-迭代字典"><a href="#5-5-3-迭代字典" class="headerlink" title="5.5.3 迭代字典"></a>5.5.3 迭代字典</h3><p>要遍历字典的所有关键字，可像遍历序列那样使用普通的for语句。</p>
<pre class=" language-python"><code class="language-python">d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'x'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">'corresponds to'</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#也可使用keys等字典方法来获取所有的键。如果只对值感兴趣，可使用d.values。我们还记得，d.items以元组的方式返回键-值对。for循环的优点之一是，可在其中使用序列解包。</span>
<span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">'corresponds to'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</code></pre>
<p>注：字典元素的排列顺序是不确定的。换而言之，迭代字典的键或值时，一定会处理所有的键或值，但不知道处理的顺序。如果顺序很重要，可将键或值存储在一个列表中并对列表排序，再进行迭代。要让映射记住其项的插入顺序，可使用模块collections中的OrderedDict类。</p>
<h3 id="5-5-4-一些迭代工具"><a href="#5-5-4-一些迭代工具" class="headerlink" title="5.5.4 一些迭代工具"></a>5.5.4 一些迭代工具</h3><p>Python提供了多个可比昂注迭代序列（或其他可迭代对象）的函数，其中一些位于第十章将介绍的模块itertools中，但还有一些内置函数使用起来也很方便。</p>
<h4 id="1-并行迭代"><a href="#1-并行迭代" class="headerlink" title="1. 并行迭代"></a>1. 并行迭代</h4><p>有时候，我们可能想要同时迭代两个序列：</p>
<pre class=" language-python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'anne'</span><span class="token punctuation">,</span> <span class="token string">'beth'</span><span class="token punctuation">,</span> <span class="token string">'george'</span><span class="token punctuation">,</span> <span class="token string">'damon'</span><span class="token punctuation">]</span>
ages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#如果要打印名字和对应的年龄，可像下面这样做：</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#i是用作循环索引变量的标准名称。</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> ages<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'years old.'</span><span class="token punctuation">)</span>
</code></pre>
<p>一个很有用的并行迭代工具是内置函数zip，它将两个序列“缝合起来”，并返回一个由元组组成的序列。返回值是一个适合迭代的对象，要查看其内容，可使用list将其转换为列表。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'anne'</span><span class="token punctuation">,</span> <span class="token string">'beth'</span><span class="token punctuation">,</span> <span class="token string">'george'</span><span class="token punctuation">,</span> <span class="token string">'damon'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> ages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> list<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>names<span class="token punctuation">,</span> ages<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'anne'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'beth'</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'george'</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'damon'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#缝合后，可在循环中将元素解包。</span>
<span class="token keyword">for</span> name<span class="token punctuation">,</span> age <span class="token keyword">in</span> zip<span class="token punctuation">(</span>names<span class="token punctuation">,</span> ages<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> age<span class="token punctuation">,</span> <span class="token string">'years old.'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#函数zip可缝合任意数量的序列。需要指出的是，当序列的长度不同时，函数zip将在最短的序列用完后停止缝合。</span>
</code></pre>
<h4 id="2-迭代时获取索引"><a href="#2-迭代时获取索引" class="headerlink" title="2. 迭代时获取索引"></a>2. 迭代时获取索引</h4><p>在有些情况下，我们需要在迭代对象序列的同时获取当前对象的索引。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#例如，你可能像替换一个字符串列表中所有包含子串‘xxx’的字符串。当然，完成这种任务的方法有很多，但这里假设要像下面这样做：</span>
<span class="token keyword">for</span> string <span class="token keyword">in</span> strings<span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">'xxx'</span> <span class="token keyword">in</span> string<span class="token punctuation">:</span>
        index <span class="token operator">=</span> strings<span class="token punctuation">.</span>index<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#在字符串列表中查找字符串</span>
        strings<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'[censored]'</span>
<span class="token comment" spellcheck="true">#这可行，但是替换前的搜索好像没有必要。另外，如果没有替换，搜索返回的索引可能不对（即返回的是该字符串首次出现处的索引）。下面是一种更佳的解决方案：</span>
index <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> string <span class="token keyword">in</span> strings<span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">'xxx'</span> <span class="token keyword">in</span> string<span class="token punctuation">:</span>
        strings<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'[censored]'</span>
    index <span class="token operator">+=</span><span class="token number">1</span>
<span class="token comment" spellcheck="true">#这个方案虽然也可以接受，但看起来也优点笨拙。另一种解决方案是使用内置函数enumerate：</span>
<span class="token keyword">for</span> index<span class="token punctuation">,</span> string <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>strings<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token string">'xxx'</span> <span class="token keyword">in</span> string<span class="token punctuation">:</span>
        strings<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'[censored]'</span>
<span class="token comment" spellcheck="true">#这个函数让我们能够迭代索引-值对，其中的索引是自动提供的。</span>
</code></pre>
<h4 id="3-反向迭代和排序后再迭代"><a href="#3-反向迭代和排序后再迭代" class="headerlink" title="3. 反向迭代和排序后再迭代"></a>3. 反向迭代和排序后再迭代</h4><p>来看另外两个很有用的函数：reversed和sorted。它们类似于列表方法reverse和sort（sorted接受的参数也与sort类似），但可用于任何序列或可迭代的对象，且不就地修改对象，而是返回反转和排序后的版本。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> sorted<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> list<span class="token punctuation">(</span>reversed<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>reversed<span class="token punctuation">(</span><span class="token string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'!dlrow ,olleH'</span>
</code></pre>
<p>请注意，sorted返回一个列表，而reversed像zip那样返回一个更神秘的迭代对象。我们无需关系这到底意味着什么，只管在for循环或join等方法中使用它，不会有任何问题。只是我们不能对它执行索引或切片的操作，也不能直接对它调用列表的方法。要执行这些操作，可先使用list对返回对象进行转换。</p>
<p>提示：要按字母表排序，可先转换为小写。为此，可将sort或sorted的key参数设置为str.lower。例如，sorted(“aBc”, kye=str.lower)返回[‘a’, ‘B’, ‘c’]。</p>
<h3 id="5-5-5-跳出循环"><a href="#5-5-5-跳出循环" class="headerlink" title="5.5.5 跳出循环"></a>5.5.5 跳出循环</h3><p>通常，循环会不断执行代码块，指导条件为假或使用完序列中的所有元素。但在有些情况下，我们可能想要中断循环、开始新迭代（进入“下一轮”代码块执行流程）或直接结束循环。</p>
<h4 id="1-break"><a href="#1-break" class="headerlink" title="1. break"></a>1. break</h4><p>要结束（跳出循环），可使用break。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#假设要找出小于100的最大平方值，可从100开始向下迭代。找到一个平方值后，无需再迭代，因此直接跳出循环。</span>
<span class="token keyword">from</span> math <span class="token keyword">import</span> sqrt
<span class="token keyword">for</span> n <span class="token keyword">in</span> rang<span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    root <span class="token operator">=</span> sqrt<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">if</span> root <span class="token operator">==</span> int<span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
<span class="token comment" spellcheck="true">#range有第三个参数——步长，即序列中相邻数的差。通过将步长设置为负数，可让range向下迭代；还可让它跳过一些数：</span>
<span class="token operator">>></span><span class="token operator">></span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="2-countinue"><a href="#2-countinue" class="headerlink" title="2. countinue"></a>2. countinue</h4><p>语句countinue没有break用得多。它结束当前迭代，并跳到下一次迭代开头。这基本上意味着跳过循环体中余下的语句，但不结束循环。这在循环体庞大而复杂，且存在多个要跳过它的原因时很有用。在这种情况下，可使用countinue，如下所示：</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">for</span> x <span class="token keyword">in</span> seq<span class="token punctuation">:</span>
    <span class="token keyword">if</span> condition1<span class="token punctuation">:</span> <span class="token keyword">continue</span>
    <span class="token keyword">if</span> condition2<span class="token punctuation">:</span> <span class="token keyword">continue</span>
    <span class="token keyword">if</span> condition3<span class="token punctuation">:</span> <span class="token keyword">continue</span>

    do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>
    do_something_else<span class="token punctuation">(</span><span class="token punctuation">)</span>
    do_another_thing<span class="token punctuation">(</span><span class="token punctuation">)</span>
    etc
<span class="token comment" spellcheck="true">#然而，在很多情况下，使用一条if语句就足够了：</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> seq<span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token punctuation">(</span>condition1 <span class="token operator">or</span> condition2 <span class="token operator">or</span> condition3<span class="token punctuation">)</span><span class="token punctuation">:</span>
        do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>
        do_something_else<span class="token punctuation">(</span><span class="token punctuation">)</span>
        do_another_thing<span class="token punctuation">(</span><span class="token punctuation">)</span>
        etc<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>continue虽然是一个很有用的工具，但并非是不可或缺的。然而我们必须熟悉break语句，因为在while True循环中经常用到它，这将在下一小节中讨论。</p>
<h4 id="3-while-True-break"><a href="#3-while-True-break" class="headerlink" title="3. while True/break"></a>3. while True/break</h4><p>如果我们要在用户根据提示输入单词时执行某种操作，并在用户没有提供单词时结束循环。为此，一种办法如下：</p>
<pre class=" language-python"><code class="language-python">word <span class="token operator">=</span> <span class="token string">'dummyu'</span>
<span class="token keyword">while</span> word<span class="token punctuation">:</span>
    word <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'Please enter a word: '</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">#使用这个单词做些事情：</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The word was'</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#这些代码运行情况如下：</span>
Please enter a word<span class="token punctuation">:</span> first
The word was first
Please enter a word<span class="token punctuation">:</span> second
The word woa second
Please enter a word<span class="token punctuation">:</span>
<span class="token comment" spellcheck="true">#这与我们希望的一致，但我们可能想使用单词做些比打印它更有用的事情。然而，这写代码有些难看。为进入循环，我们需要将一个哑值（未用的值）赋给word。像这样的哑值通常昭示着我们的做法不太对。下面尝试消除这个哑值：</span>
word <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'Please enter a word: '</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> word<span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true">#使用这个单词做些事情：</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The word was '</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span>
    word <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'Please enter a word: '</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#哑值消除了，但包含重复的代码，如何避免这样的重复呢？可使用while True/break。</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    word <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'Please enter a word: '</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">not</span> word<span class="token punctuation">:</span> <span class="token keyword">break</span>
    <span class="token comment" spellcheck="true">#使用这个单词做些事情：</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'The word was '</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span>
</code></pre>
<p>while True导致循环永不结束，但我们将条件放在了循环体内的一条if语句中，而这条if语句将在条件满足时调用break。这说明并非只能像常规while循环那样在循环开头结束循环，而是可在循环体的任何地方结束循环。if/break行将整个循环分成两部分：第一部分负责设置，第二部分在循环条件为真时使用第一部分初始化的数据。</p>
<h3 id="5-5-6-循环中的else子句"><a href="#5-5-6-循环中的else子句" class="headerlink" title="5.5.6 循环中的else子句"></a>5.5.6 循环中的else子句</h3><p>要在循环提前结束时采取某种措施很容易（break），但有时可能想在循环正常结束时才采取某种措施。</p>
<p>可在循环开始前定义一个布尔变量值并将其设置为False，再在跳出循环时将其设置为True。这样就可在循环后面使用一条if语句来判断循环是否是提前结束的：</p>
<pre class=" language-python"><code class="language-python">broke_out <span class="token operator">=</span> <span class="token boolean">False</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> seq<span class="token punctuation">:</span>
    do_something<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token keyword">if</span> condition<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        broke_out <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">break</span>
    do_something_else<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token operator">not</span> broke_out<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I did't break out!"</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#一种更简单的办法是在循环中添加一条else子句，它仅仅在没有调用break时才执行。继续前面讨论break时的示例：</span>
form math <span class="token keyword">import</span> sqrt
<span class="token keyword">for</span> n <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#不包含81</span>
    root <span class="token operator">=</span> sqrt<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">if</span> root <span class="token operator">==</span> int<span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Didn't find it!"</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="5-6-简单推导"><a href="#5-6-简单推导" class="headerlink" title="5.6 简单推导"></a>5.6 简单推导</h2><p>列表推导是一种从其他列表创建列表的方式，类似于数序中的集合推导。</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#列表推导的原理非常简单，有点类似于for循环:</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#如果只想打印那些能被3整除的平方值：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>x <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">81</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#还可以添加更多的for部分：</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#作为对比，下面的两个for循环创建同样的列表：</span>
result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#与以前一样，使用多个for部分时，也可添加if子句：</span>
<span class="token operator">>></span><span class="token operator">></span> girls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'alice'</span><span class="token punctuation">,</span> <span class="token string">'bernice'</span><span class="token punctuation">,</span> <span class="token string">'clarice'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> boys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'chris'</span><span class="token punctuation">,</span> <span class="token string">'arnold'</span><span class="token punctuation">,</span> <span class="token string">'bob'</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span>b<span class="token operator">+</span><span class="token string">'+'</span><span class="token operator">+</span>g <span class="token keyword">for</span> b <span class="token keyword">in</span> boys <span class="token keyword">for</span> g <span class="token keyword">in</span> girls <span class="token keyword">if</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> g<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'chris+clarice'</span><span class="token punctuation">,</span> <span class="token string">'arnold+alice'</span><span class="token punctuation">,</span> <span class="token string">'bob+bernice'</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">##这些代码将名字的首字母相同的男孩和女孩配对。</span>
</code></pre>
<p>前述配对示例的效率不太高，因为它要检查每种可能的配对。使用Python解决这个问题的方法有很多，下面是Alex Martelli推荐的解决方案：</p>
<pre class=" language-python"><code class="language-python">girls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'alice'</span><span class="token punctuation">,</span> <span class="token string">'bernice'</span><span class="token punctuation">,</span> <span class="token string">'clarice'</span><span class="token punctuation">]</span>
boys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'chris'</span><span class="token punctuation">,</span> <span class="token string">'arnold'</span><span class="token punctuation">,</span> <span class="token string">'bob'</span><span class="token punctuation">]</span>
letterGirls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> girl <span class="token keyword">in</span> girls<span class="token punctuation">:</span>
    letterGirls<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>girl<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>girl<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>b<span class="token operator">+</span><span class="token string">'+'</span><span class="token operator">+</span>g <span class="token keyword">for</span> b <span class="token keyword">in</span> boys <span class="token keyword">for</span> g <span class="token keyword">in</span> letterGirls<span class="token punctuation">[</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#这个程序创建一个名为letterGirls的字典，其中每项的键都是一个字母，而值为以这个字母打头的女孩名字组成的列表。创建这个字典后，列表推导遍历所有的男孩，并查找名字首字母与当前男孩相同的所有女孩。这样，这个列表推导就无需尝试所有的男孩和女好组合并检查他们的名字首字母是否相同了。</span>
</code></pre>
<p>使用圆括号代替方括号并不能实现元组推导，而是将创建生成器（第九章）。然而，可使用花括号来执行字典推导。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> squares <span class="token operator">=</span> <span class="token punctuation">{</span>i<span class="token punctuation">:</span><span class="token string">"{} squared is {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>i<span class="token punctuation">,</span> i<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> squares<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token string">'8 squared is 64'</span>
</code></pre>
<p>在列表推导中，for前面只有一个表达式，而在字典推导中，for前面有两个用冒号分隔的表达式。这两个表达式分别为键及其对应的值。</p>
<h2 id="5-7-三人行"><a href="#5-7-三人行" class="headerlink" title="5.7 三人行"></a>5.7 三人行</h2><p>结束本章前，大致介绍一下另外三条语句：pass、del和exec。</p>
<h3 id="5-7-1-什么都不做"><a href="#5-7-1-什么都不做" class="headerlink" title="5.7.1 什么都不做"></a>5.7.1 什么都不做</h3><p>pass语句什么都不会发生。在编写代码时，可将其用作占位符。例如，我们可能编写了一条if语句并想尝试运行它，但其中可能缺少一个代码块，这些代码将不能运行，因为在Python中代码块不能为空。要修复这个问题，只需要在中间的代码块中添加一条pass语句即可。</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">if</span> name <span class="token operator">==</span> <span class="token string">'Ralph Auldus Melish'</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Welcome!'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> name <span class="token operator">==</span> <span class="token string">'Enid'</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true">#还未完成……</span>
    <span class="token keyword">pass</span>
<span class="token keyword">elif</span> name <span class="token operator">==</span> <span class="token string">'Bill Gates'</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Access Denied'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">#注：也可不使用注释和pass语句，而是插入一个字符串。这种做法尤其适用于未完成的函数（第六章）和类（第七章），因为这种字符串将充当文档字符串（第六章）。</span>
</code></pre>
<h3 id="5-7-2-使用del删除"><a href="#5-7-2-使用del删除" class="headerlink" title="5.7.2 使用del删除"></a>5.7.2 使用del删除</h3><p>对于我们不再使用的对象，Python通常会将其删除（因为没有任何变量或数据结构成员指向它），这被称为垃圾收集。</p>
<p>另一种办法是使用del语句。（第二章和第四章使用这条语句来删除序列和字典）这不仅会删除到对象的引用，还会删除名称本身。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">del</span> x
<span class="token operator">>></span><span class="token operator">></span> x
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#27>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>
    x
NameError<span class="token punctuation">:</span> name <span class="token string">'x'</span> <span class="token keyword">is</span> <span class="token operator">not</span> defined
<span class="token comment" spellcheck="true">#这看似简单，但有时不太好理解。</span>
<span class="token comment" spellcheck="true">#例如，在下面的示例中，x和y指向同一个列表：</span>
<span class="token operator">>></span><span class="token operator">></span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> y <span class="token operator">=</span> x
<span class="token operator">>></span><span class="token operator">></span> y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Python"</span>
<span class="token operator">>></span><span class="token operator">></span> x
<span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'Python'</span><span class="token punctuation">]</span>
可能我们通常会认为通过删除x，也将删除y，但并非如此：
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">del</span> x
<span class="token operator">>></span><span class="token operator">></span> y
<span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'Python'</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#这是因为x和y指向同一个列表，但删除x对y没有任何影响，因为我们只删除名称x，而没有删除列表本身（值）。事实上，在Python中，根本就没有办法删除值，而我们也不需要这样做，因为对于我们不再使用的值，Python解释器会立即将其删除。</span>
</code></pre>
<h3 id="5-7-3-使用exec和eval执行字符串及计算其结果"><a href="#5-7-3-使用exec和eval执行字符串及计算其结果" class="headerlink" title="5.7.3 使用exec和eval执行字符串及计算其结果"></a>5.7.3 使用exec和eval执行字符串及计算其结果</h3><p>注：本节介绍如何执行储存在字符串中的Python代码，这样做可能带来严重的安全隐患。如果将部分内容由用户提供的字符串作为代码执行，将无法控制代码的行为。在网络引用程序，如第十五章将介绍的通用网关接口（CGI）脚本中，这样做尤其危险。</p>
<h4 id="1-exec"><a href="#1-exec" class="headerlink" title="1. exec"></a>1. exec</h4><p>函数exec将字符串作为代码执行。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">"print('Hello, world!')"</span><span class="token punctuation">)</span>
Hello<span class="token punctuation">,</span> world!
</code></pre>
<p>然而，调用函数exec时只给它提供一个参数绝非好事。在大多数情况下，还应向它传递一个命名空间——用于放置变量的地方；否则代码将污染命名空间，即修改变量。</p>
<p>exec函数主要用于动态地创建代码字符串。如果这种字符串来自其他地方（可能是用户），就几乎无法确定它将包含什么内容。因此为了安全期间，要提供一个字典以充当命名空间。</p>
<p><strong>注</strong>：命名空间（作用域）是个重要的概念，将在下一章讨论。目前，我们可以将命名空间视为放置变量的地方，类似于一个看不见的字典。因此，当你执行赋值语句x = 1时，将在当前命名空间存储键x和值1。当前命名空间通常是全局命名空间（到目前为止，我们使用的大都是全局命名空间），但并非必然如此。</p>
<p>为此，添加第二个参数——字典，用作代码字符串的命名空间。</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> math <span class="token keyword">import</span> sqrt
<span class="token operator">>></span><span class="token operator">></span> scope <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">'sqrt = 1'</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> sqrt<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token number">2.0</span>
<span class="token operator">>></span><span class="token operator">></span> scope<span class="token punctuation">[</span><span class="token string">'sqrt'</span><span class="token punctuation">]</span>
<span class="token number">1</span>
<span class="token comment" spellcheck="true">#请注意，如果尝试将scope打印出来，将发现它包含很多内容，这是因为自动在其中添加了包含所有内置函数和值的字典__builtins__。</span>
<span class="token operator">>></span><span class="token operator">></span> len<span class="token punctuation">(</span>scope<span class="token punctuation">)</span>
<span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> scope<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
dict_keys<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'__builtins__'</span><span class="token punctuation">,</span> <span class="token string">'sqrt'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="2-eval"><a href="#2-eval" class="headerlink" title="2. eval"></a>2. eval</h4><p>eval是一个类似于exec的内置函数。exec执行一系列Python语句，而eval计算用字符串表示的Python表达式的值，并返回结果（exec什么都不返回，因为它本身是条语句）。例如，我们可以使用如下代码来创建一个Python计算器：</p>
<pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> eval<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"Enter an arithmetic expression: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Enter an arithmetic expression<span class="token punctuation">:</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">18</span> <span class="token operator">*</span> <span class="token number">2</span>
<span class="token number">42</span>
</code></pre>
<p>与exec一样，也可向eval提供一个命名空间，虽然表达式通常不会像语句那样给变量重新赋值。</p>
<p>注：虽然表达式通常不会给变量重新赋值，但绝对能够这样做，如调用给全局变量重新赋值的函数。因此，将eval用于不可信任的代码并不比使用exec安全。当前，在Python中执行不可信任的代码时，没有安全的办法。一种替代解决方案是使用Jython（第十七章）等Python实现，以实现Java沙箱等原生机制。</p>
<p><strong>浅谈作用域</strong>：</p>
<pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#向exec或eval提供命名空间时，可在使用这个命名空间前在其中添加一些值：</span>
<span class="token operator">>></span><span class="token operator">></span> scope <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> scope<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token operator">>></span><span class="token operator">></span> scope<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> eval<span class="token punctuation">(</span><span class="token string">'x * y'</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
<span class="token number">6</span>
<span class="token comment" spellcheck="true">#同样，同一个命名空间可用于多次调用exec或eval。</span>
<span class="token operator">>></span><span class="token operator">></span> scope <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token string">'x = 2'</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> eval<span class="token punctuation">(</span><span class="token string">'x * x'</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
<span class="token number">4</span>
<span class="token comment" spellcheck="true">#采用这种做法可编写出非常复杂的程序，但你也许不应这样做。</span>
</code></pre>
<h2 id="5-8-小结"><a href="#5-8-小结" class="headerlink" title="5.8 小结"></a>5.8 小结</h2><p>本章介绍了多种语句。</p>
<ul>
<li>打印语句：可以使用print语句来打印多个用逗号分隔的值。如果print语句以逗号结尾，后续print语句将在当前行接着打印。</li>
<li>导入语句：有时候，我们不喜欢要导入的函数的名称——可能是因为你已将这个名称用作他用。在这种情况下，可使用import…as…语句在本地重命名函数。</li>
<li>赋值语句：通过使用奇妙的序列解包和链式赋值，可同时给多个变量赋值；而通过使用增强赋值，可就地修改变量。</li>
<li>代码块：代码块用于通过缩进将语句编组。代码块可用于条件语句和循环中，还可用于函数和类的定义中。</li>
<li>条件语句：条件语句根据条件（布尔表达式）决定是否执行后续代码块。通过使用if/elif/else，可将多个条件语句组合起来。条件语句的一个变种是条件表达式，如a if b else c。</li>
<li>断言：断言断定某件事（一个布尔表达式）为真，可包含说明为何必须如此的字符串。如果指定的表达式为假，断言将导致程序停止执行。最好尽早将错误就出来，免得它潜藏在程序中，直到带来麻烦。</li>
<li>循环：可针对序列中的每个元素（如特定范围内的每个数）执行代码块，也可在条件为真时反复执行代码块。要跳出代码块中余下的代码，直接进入下一次迭代，可使用continue语句；要跳出循环，可使用break语句。另外，还可以在循环末尾添加一个else子句，它将在没有执行循环中的任何break语句时执行。</li>
<li>推导：推导并不是语句，而是表达式。它们看起来很像循环，因此我们将它们放在循环中讨论。通过列表推导，可从既有列表中创建出性列表，这是通过对列表元素调用函数、提出不想要的函数等实现的。推导功能强大，但在很多情况下，使用普通循环和条件语句也可完成任务，且代码的可读性可能更高。使用类似于列表推导的表达式可创建出字典。</li>
<li>pass、del、exec和eval：pass语句什么都不做，但适合用作占位符。del语句用于删除变量或数据结构的成员，但不能用于删除值。函数exec用于将字符串作为Python程序执行。函数eval计算用字符串表示的表达式并返回结果。</li>
</ul>

            </div>
            <hr>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff;
        background-color: #22AB38;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff;
        background-color: #019FE8;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a class="reward-link btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs">
                        <li class="tab wechat-tab waves-effect waves-light"><a class="active" href="#wechat">微信</a></li>
                        <li class="tab alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('#reward .reward-link').on('click', function () {
            $('#rewardModal').openModal();
        });

        $('#rewardModal .close').on('click', function () {
            $('#rewardModal').closeModal();
        });
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="http://ChenaniahLv.github.io" class="b-link-green">大圣的沙雕博客</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2019/02/16/python-xue-xi-di-5-zhang-tiao-jian-xun-huan-he-qi-ta-yu-ju/" class="b-link-green">Python学习第5章-条件、循环和其他语句</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    
    <!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC80MjYyMC8xOTE2Nw==">
	<script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
	</script>
<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/02/18/si-xiang-hui-bao-1-shi-jiu-da-bao-gao-xue-xi/">
                    <div class="card-image">
                        
                        <img src="https://s2.ax1x.com/2019/02/18/kc37D0.jpg" class="responsive-img" alt="思想汇报（1）——十九大报告学习">
                        
                        <span class="card-title">思想汇报（1）——十九大报告学习</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">思想汇报——十九大报告学习尊敬的党组织：
由于上课原因，当初并没有观看习主席进行十九大报告时的直播，之后虽然零零散散地根据一些公众号和积极分子培训班进行了一些学习，但是仍然没有整体看过。最近我又重新找出了习主席进行十九大报告时的录像，从头到</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-02-18
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/入党/" class="post-category" target="_blank">
                                    入党
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/入党/" target="_blank">
                        <span class="chip bg-color">入党</span>
                    </a>
                    
                    <a href="/tags/思想汇报/" target="_blank">
                        <span class="chip bg-color">思想汇报</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/02/14/python-xue-xi-di-4-zhang-dang-suo-yin-xing-bu-tong-shi-zi-dian/">
                    <div class="card-image">
                        
                        <img src="https://s2.ax1x.com/2019/02/13/k02dVs.jpg" class="responsive-img" alt="Python学习第4章-当索引行不通时：字典">
                        
                        <span class="card-title">Python学习第4章-当索引行不通时：字典</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">第四章-当索引行不通时：字典需要将一系列值组合成数据结构并通过编号来访问各个值时，列表很有用。本章介绍一种可通过名称来访问其各个值的数据结构。这种数据结构称为映射（mapping）。字典是Python中唯一的内置映射类型，其中的值不按顺序排</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-02-14
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category" target="_blank">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python/" target="_blank">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                    <a href="/tags/教程/" target="_blank">
                        <span class="chip bg-color">教程</span>
                    </a>
                    
                    <a href="/tags/学习笔记/" target="_blank">
                        <span class="chip bg-color">学习笔记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('200')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 大圣的沙雕博客<br />'
            + '作者: 大圣<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>

    </div>
    <div class="col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="https://ChenaniahLv.github.io/" target="_blank">ChenaniahLv</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 的
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建。

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">33.8k</span>
            

            
			
                <br>
                
                <span id="busuanzi_container_site_pv">
                    <i class="fa fa-heart-o"></i>
                    本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                </span>
                
                
                <span id="busuanzi_container_site_uv">
                    <i class="fa fa-users"></i>
                    次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
                </span>
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/ChenaniahLv" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:xinshenglv0917@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1774014148" class="tooltipped" data-tooltip="QQ联系我: 1774014148" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input" autofocus>
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    <script src="/libs/others/clicklove.js"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


</body>
</html>